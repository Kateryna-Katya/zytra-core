(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function p(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=p(t);fetch(t.href,n)}})();gsap.registerPlugin(ScrollTrigger);document.addEventListener("DOMContentLoaded",()=>{const l=new Lenis;function o(e){l.raf(e),requestAnimationFrame(o)}requestAnimationFrame(o),lucide.createIcons(),(()=>{const e=document.querySelector("#hero-canvas");if(!e)return;const c=new THREE.Scene,u=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),a=new THREE.WebGLRenderer({alpha:!0,antialias:!0});a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(Math.min(window.devicePixelRatio,2)),e.appendChild(a.domElement);const E=new THREE.BufferGeometry,L=new Float32Array(1800*3);for(let f=0;f<5400;f++)L[f]=(Math.random()-.5)*12;E.setAttribute("position",new THREE.BufferAttribute(L,3));const A=new THREE.PointsMaterial({color:62207,size:.018,transparent:!0,opacity:.5,blending:THREE.AdditiveBlending}),S=new THREE.Points(E,A);c.add(S),u.position.z=5;const q=()=>{requestAnimationFrame(q),S.rotation.y+=.001,a.render(c,u)};q(),window.addEventListener("resize",()=>{u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)})})();const r=document.querySelector(".burger"),t=document.querySelector("#menuOverlay"),n=document.querySelectorAll(".nav-mobile__link"),i=()=>{const e=t.classList.toggle("is-active");r==null||r.classList.toggle("is-active"),e?(l.stop(),document.body.style.overflow="hidden"):(l.start(),document.body.style.overflow="")};r==null||r.addEventListener("click",i),n.forEach(e=>{e.addEventListener("click",()=>{t.classList.contains("is-active")&&i()})});const s=document.querySelector("#cookiePopup"),m=document.querySelector("#cookieAccept");localStorage.getItem("cookiesAccepted")||setTimeout(()=>s==null?void 0:s.classList.add("is-visible"),2e3),m==null||m.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),s==null||s.classList.remove("is-visible")}),document.querySelectorAll(".js-reveal").forEach(e=>{gsap.from(e,{scrollTrigger:{trigger:e,start:"top 92%"},y:30,opacity:0,duration:.8,ease:"power2.out"})});const g=document.querySelectorAll(".stack-card");g.forEach((e,c)=>{c<g.length-1&&gsap.to(e,{scale:.9,opacity:.6,scrollTrigger:{trigger:e,start:"top 100px",scrub:!0,pinSpacing:!1}})});const d=document.querySelector("#mainForm"),y=document.querySelector("#userPhone"),w=document.querySelector("#captchaLabel");y&&y.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^0-9]/g,"")});let h=Math.floor(Math.random()*5)+1,v=Math.floor(Math.random()*5)+1,b=h+v;w&&(w.innerText=`Решите: ${h} + ${v} = ?`),d==null||d.addEventListener("submit",e=>{e.preventDefault();const c=document.querySelector("#userCaptcha").value;if(parseInt(c)!==b){alert("Капча неверна!");return}document.querySelector("#submitBtn").style.display="none",document.querySelector("#formSuccess").classList.add("is-visible"),d.reset()}),window.addEventListener("scroll",()=>{var e;(e=document.querySelector("#header"))==null||e.classList.toggle("header--scrolled",window.scrollY>50)}),console.log("Zytra Core v6: All fixed.")});
//# sourceMappingURL=main-DSsXc9x-.js.map
